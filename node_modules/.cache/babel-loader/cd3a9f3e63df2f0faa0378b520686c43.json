{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { isNotEmptyObject } from './index';\n\nfunction UseHeaderchange(newPath, newHeaderType, ...rest) {\n  _s();\n\n  if (!window['newMemory']) {\n    window['newMemory'] = {};\n    console.log('new memory', window['newMemory']);\n  }\n\n  const {\n    newMemory\n  } = window;\n  const [filters, setFilters] = useState({});\n  const initialState = {\n    path: newPath,\n    headerType: newHeaderType || 'home',\n    ...rest\n  };\n\n  if (!isNotEmptyObject(filters)) {\n    setFilters({ ...initialState\n    });\n  }\n\n  if (!newMemory[newPath]) newMemory[newPath] = { ...initialState\n  };\n  let handleMemoryChange = useCallback(() => {\n    const {\n      path,\n      headerType\n    } = filters;\n\n    if (!newMemory[newPath]) {\n      newMemory[newPath] = { ...initialState\n      }; // setFilters({\n      //     ...filters,\n      //     path: newPath,\n      //     headerType: newHeaderType || 'home'\n      // })\n      // setFilters({ ...initialState });\n\n      console.log(newMemory, initialState, 'state');\n    } else {\n      console.log(newMemory, 'state', '1');\n      return { ...newMemory[newPath]\n      };\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener('memoryChange', handleMemoryChange);\n    return window.removeEventListener('memoryChange', handleMemoryChange);\n  }, [handleMemoryChange]);\n  console.log(newMemory, 'state', '2');\n  return { ...newMemory[newPath]\n  };\n}\n\n_s(UseHeaderchange, \"An1g4kfC8XbKtJDtYS2/NPWOa9Y=\");\n\n_c = UseHeaderchange;\nUseHeaderchange.propTypes = {\n  newPath: PropTypes.string,\n  headerType: PropTypes.string\n};\nexport default UseHeaderchange; // import React, { useState, useEffect, useCallback } from 'react';\n// import PropTypes from 'prop-types';\n// function UseHeaderchange(newPath, newHeaderType, ...rest) {\n//     if (!window['newMemory']) {\n//         window['newMemory'] = {};\n//         console.log('new memory', window['newMemory']);\n//     }\n//     const { newMemory } = window;\n//     const initialState = {\n//         path: '',\n//         headerType: 'home',\n//         ...rest\n//     };\n//     if (!newMemory[newPath]) newMemory[newPath] = { path: newPath, headerType: newHeaderType || 'home', ...rest };\n//     // console.log(newMemory, initialState, 'state');\n//     // const [filters, setFilters] = useState({ ...initialState });\n//     // let handleMemoryChange = useCallback(() => {\n//     //     const { path, headerType } = filters;\n//     //     if (!newMemory[newPath]) {\n//     //         setFilters({\n//     //             ...filters,\n//     //             path: newPath,\n//     //             headerType: newHeaderType || 'home'\n//     //         })\n//     //         console.log('Hey hi');\n//     //     } else {\n//     //         console.log(newMemory, filters, 'state', '1');\n//     //         return newMemory[newPath];\n//     //     }\n//     // }, [filters])\n//     // useEffect(() => {\n//     //     window.addEventListener('memoryChange', handleMemoryChange)\n//     //     window.removeEventListener('memoryChange', handleMemoryChange)\n//     // }, [filters])\n//     console.log(newMemory, 'state', '2');\n//     return newMemory[newPath];\n// }\n// UseHeaderchange.propTypes = {\n//     newPath: PropTypes.string,\n//     headerType: PropTypes.string\n// }\n// export default UseHeaderchange;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseHeaderchange\");","map":{"version":3,"sources":["/home/hestabit/Music/moonick/src/utils/global-functions/use-Header-change.js"],"names":["React","useState","useEffect","useCallback","PropTypes","isNotEmptyObject","UseHeaderchange","newPath","newHeaderType","rest","window","console","log","newMemory","filters","setFilters","initialState","path","headerType","handleMemoryChange","addEventListener","removeEventListener","propTypes","string"],"mappings":";;AAAA,OAAOA,KAAP,IACIC,QADJ,EAEIC,SAFJ,EAGIC,WAHJ,QAIO,OAJP;AAKA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SACIC,gBADJ,QAEO,SAFP;;AAIA,SAASC,eAAT,CAAyBC,OAAzB,EAAkCC,aAAlC,EAAiD,GAAGC,IAApD,EAA0D;AAAA;;AACtD,MAAI,CAACC,MAAM,CAAC,WAAD,CAAX,EAA0B;AACtBA,IAAAA,MAAM,CAAC,WAAD,CAAN,GAAsB,EAAtB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,MAAM,CAAC,WAAD,CAAhC;AACH;;AAED,QAAM;AACFG,IAAAA;AADE,MAEFH,MAFJ;AAIA,QAAM,CAACI,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,EAAD,CAAtC;AAEA,QAAMe,YAAY,GAAG;AACjBC,IAAAA,IAAI,EAAEV,OADW;AAEjBW,IAAAA,UAAU,EAAEV,aAAa,IAAI,MAFZ;AAGjB,OAAGC;AAHc,GAArB;;AAMA,MAAI,CAACJ,gBAAgB,CAACS,OAAD,CAArB,EAAgC;AAC5BC,IAAAA,UAAU,CAAC,EACP,GAAGC;AADI,KAAD,CAAV;AAGH;;AAED,MAAI,CAACH,SAAS,CAACN,OAAD,CAAd,EAAyBM,SAAS,CAACN,OAAD,CAAT,GAAqB,EAC1C,GAAGS;AADuC,GAArB;AAIzB,MAAIG,kBAAkB,GAAGhB,WAAW,CAAC,MAAM;AACvC,UAAM;AACFc,MAAAA,IADE;AAEFC,MAAAA;AAFE,QAGFJ,OAHJ;;AAIA,QAAI,CAACD,SAAS,CAACN,OAAD,CAAd,EAAyB;AACrBM,MAAAA,SAAS,CAACN,OAAD,CAAT,GAAqB,EACjB,GAAGS;AADc,OAArB,CADqB,CAIrB;AACA;AACA;AACA;AACA;AACA;;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ,EAAuBG,YAAvB,EAAqC,OAArC;AACH,KAXD,MAWO;AACHL,MAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ,EAAuB,OAAvB,EAAgC,GAAhC;AACA,aAAO,EACH,GAAGA,SAAS,CAACN,OAAD;AADT,OAAP;AAGH;AACJ,GAtBmC,EAsBjC,EAtBiC,CAApC;AAwBAL,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,MAAM,CAACU,gBAAP,CAAwB,cAAxB,EAAwCD,kBAAxC;AACA,WAAOT,MAAM,CAACW,mBAAP,CAA2B,cAA3B,EAA2CF,kBAA3C,CAAP;AACH,GAHQ,EAGN,CAACA,kBAAD,CAHM,CAAT;AAIAR,EAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ,EAAuB,OAAvB,EAAgC,GAAhC;AACA,SAAO,EACH,GAAGA,SAAS,CAACN,OAAD;AADT,GAAP;AAGH;;GA5DQD,e;;KAAAA,e;AA8DTA,eAAe,CAACgB,SAAhB,GAA4B;AACxBf,EAAAA,OAAO,EAAEH,SAAS,CAACmB,MADK;AAExBL,EAAAA,UAAU,EAAEd,SAAS,CAACmB;AAFE,CAA5B;AAKA,eAAejB,eAAf,C,CAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, {\n    useState,\n    useEffect,\n    useCallback\n} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    isNotEmptyObject\n} from './index';\n\nfunction UseHeaderchange(newPath, newHeaderType, ...rest) {\n    if (!window['newMemory']) {\n        window['newMemory'] = {};\n        console.log('new memory', window['newMemory']);\n    }\n\n    const {\n        newMemory\n    } = window;\n\n    const [filters, setFilters] = useState({});\n\n    const initialState = {\n        path: newPath,\n        headerType: newHeaderType || 'home',\n        ...rest\n    };\n\n    if (!isNotEmptyObject(filters)) {\n        setFilters({\n            ...initialState\n        });\n    }\n\n    if (!newMemory[newPath]) newMemory[newPath] = {\n        ...initialState\n    };\n\n    let handleMemoryChange = useCallback(() => {\n        const {\n            path,\n            headerType\n        } = filters;\n        if (!newMemory[newPath]) {\n            newMemory[newPath] = {\n                ...initialState\n            };\n            // setFilters({\n            //     ...filters,\n            //     path: newPath,\n            //     headerType: newHeaderType || 'home'\n            // })\n            // setFilters({ ...initialState });\n            console.log(newMemory, initialState, 'state');\n        } else {\n            console.log(newMemory, 'state', '1');\n            return {\n                ...newMemory[newPath]\n            };\n        }\n    }, [])\n\n    useEffect(() => {\n        window.addEventListener('memoryChange', handleMemoryChange)\n        return window.removeEventListener('memoryChange', handleMemoryChange)\n    }, [handleMemoryChange])\n    console.log(newMemory, 'state', '2');\n    return {\n        ...newMemory[newPath]\n    };\n}\n\nUseHeaderchange.propTypes = {\n    newPath: PropTypes.string,\n    headerType: PropTypes.string\n}\n\nexport default UseHeaderchange;\n\n// import React, { useState, useEffect, useCallback } from 'react';\n// import PropTypes from 'prop-types';\n\n// function UseHeaderchange(newPath, newHeaderType, ...rest) {\n//     if (!window['newMemory']) {\n//         window['newMemory'] = {};\n//         console.log('new memory', window['newMemory']);\n//     }\n//     const { newMemory } = window;\n\n//     const initialState = {\n//         path: '',\n//         headerType: 'home',\n//         ...rest\n//     };\n//     if (!newMemory[newPath]) newMemory[newPath] = { path: newPath, headerType: newHeaderType || 'home', ...rest };\n//     // console.log(newMemory, initialState, 'state');\n//     // const [filters, setFilters] = useState({ ...initialState });\n\n//     // let handleMemoryChange = useCallback(() => {\n//     //     const { path, headerType } = filters;\n//     //     if (!newMemory[newPath]) {\n//     //         setFilters({\n//     //             ...filters,\n//     //             path: newPath,\n//     //             headerType: newHeaderType || 'home'\n//     //         })\n//     //         console.log('Hey hi');\n//     //     } else {\n//     //         console.log(newMemory, filters, 'state', '1');\n//     //         return newMemory[newPath];\n//     //     }\n//     // }, [filters])\n\n//     // useEffect(() => {\n//     //     window.addEventListener('memoryChange', handleMemoryChange)\n//     //     window.removeEventListener('memoryChange', handleMemoryChange)\n//     // }, [filters])\n//     console.log(newMemory, 'state', '2');\n//     return newMemory[newPath];\n// }\n\n// UseHeaderchange.propTypes = {\n//     newPath: PropTypes.string,\n//     headerType: PropTypes.string\n// }\n\n// export default UseHeaderchange;"]},"metadata":{},"sourceType":"module"}