{"ast":null,"code":"import axios from 'axios';\nimport store from '../store';\nimport { LOGOUT } from '../actions/types';\nconst api = axios.create({\n  // baseURL: 'https://run.mocky.io',\n  // baseURL: 'http://15.206.89.124/supershop/api',\n  baseURL: 'https://mobilenyou.herokuapp.com',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\napi.interceptors.response.use(res => res, err => {\n  if (err.response.status === 401) {\n    store.dispatch({\n      type: LOGOUT\n    });\n  }\n\n  return Promise.reject(err);\n});\nexport default api;","map":{"version":3,"sources":["D:/Twinkle/moonick/src/utils/api.js"],"names":["axios","store","LOGOUT","api","create","baseURL","headers","interceptors","response","use","res","err","status","dispatch","type","Promise","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,MAAT,QAAuB,kBAAvB;AAEA,MAAMC,GAAG,GAAGH,KAAK,CAACI,MAAN,CAAa;AACrB;AACA;AACAC,EAAAA,OAAO,EAAE,kCAHY;AAIrBC,EAAAA,OAAO,EAAE;AACL,oBAAgB;AADX;AAJY,CAAb,CAAZ;AASAH,GAAG,CAACI,YAAJ,CAAiBC,QAAjB,CAA0BC,GAA1B,CACIC,GAAG,IAAIA,GADX,EAEIC,GAAG,IAAI;AACH,MAAGA,GAAG,CAACH,QAAJ,CAAaI,MAAb,KAAwB,GAA3B,EAAgC;AAC7BX,IAAAA,KAAK,CAACY,QAAN,CAAe;AAACC,MAAAA,IAAI,EAAEZ;AAAP,KAAf;AACF;;AACD,SAAOa,OAAO,CAACC,MAAR,CAAeL,GAAf,CAAP;AACH,CAPL;AAUA,eAAeR,GAAf","sourcesContent":["import axios from 'axios';\r\nimport store from '../store';\r\nimport { LOGOUT } from '../actions/types';\r\n\r\nconst api = axios.create({\r\n    // baseURL: 'https://run.mocky.io',\r\n    // baseURL: 'http://15.206.89.124/supershop/api',\r\n    baseURL: 'https://mobilenyou.herokuapp.com',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\napi.interceptors.response.use(\r\n    res => res,\r\n    err => {\r\n        if(err.response.status === 401) {\r\n           store.dispatch({type: LOGOUT});\r\n        }\r\n        return Promise.reject(err);\r\n    }\r\n)\r\n\r\nexport default api;\r\n"]},"metadata":{},"sourceType":"module"}