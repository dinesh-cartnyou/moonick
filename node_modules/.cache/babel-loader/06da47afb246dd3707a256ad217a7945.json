{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { isNotEmptyObject } from './index';\n\nfunction UseHeaderchange(newPath, newHeaderType, ...rest) {\n  _s();\n\n  if (!window['newMemory']) {\n    window['newMemory'] = {};\n    console.log('new memory', window['newMemory']);\n  }\n\n  const {\n    newMemory\n  } = window;\n  const [filters, setFilters] = useState({});\n  const initialState = {\n    path: newPath,\n    headerType: newHeaderType || 'home',\n    ...rest\n  };\n\n  if (!isNotEmptyObject(filters)) {\n    setFilters({ ...initialState\n    });\n  }\n\n  if (!newMemory[newPath]) newMemory[newPath] = { ...initialState\n  };\n  let handleMemoryChange = useCallback(() => {\n    const {\n      path,\n      headerType\n    } = filters;\n\n    if (!newMemory[newPath]) {\n      newMemory[newPath] = { ...initialState\n      }; // setFilters({\n      //     ...filters,\n      //     path: newPath,\n      //     headerType: newHeaderType || 'home'\n      // })\n      // setFilters({ ...initialState });\n\n      console.log(newMemory, initialState, 'state');\n    } else {\n      console.log(newMemory, 'state', '1');\n      return { ...newMemory[newPath]\n      };\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener('memoryChange', handleMemoryChange);\n    return window.removeEventListener('memoryChange', handleMemoryChange);\n  }, [handleMemoryChange]);\n  console.log(newMemory, 'state', '2');\n  return { ...newMemory[newPath]\n  };\n}\n\n_s(UseHeaderchange, \"An1g4kfC8XbKtJDtYS2/NPWOa9Y=\");\n\n_c = UseHeaderchange;\nUseHeaderchange.propTypes = {\n  newPath: PropTypes.string,\n  headerType: PropTypes.string\n};\nexport default UseHeaderchange; // function UseHeaderchange(newPath, headerData) {\n//     if (!window['newMemory']) {\n//         window['newMemory'] = {};\n//         const event =  new Event('changeOccur');\n//         console.log('new memory', window['newMemory']);\n//     }\n//     const { newMemory } = window;\n//     const [filters, setFilters] = useState({});\n//     const { newHeaderType,headerValue } = headerData; \n//     if(!isNotEmptyObject(newMemory)) {\n// const initialState = {\n//     path: newPath,\n//     headerData\n// };\n//         setFilters({ ...initialState });\n//     }    \n//     if (!newMemory[newPath]) newMemory[newPath] = { ...initialState };\n//     let handleMemoryChange = useCallback(() => {\n//         const { path, headerData } = filters;\n//         if (!newMemory[newPath]) {\n//             newMemory[newPath] = { ...initialState };\n//             setFilters({\n//                 ...filters,\n//                 path: newPath,\n//                 headerType: newHeaderType || 'home'\n//             })\n//             setFilters({ ...initialState });\n//             console.log(newMemory, initialState, 'state');\n//         } else {\n//             console.log(newMemory, 'state', '1');\n//             return { ...newMemory[newPath] };\n//         }\n//     }, [])\n//     useEffect(() => {\n//         window.addEventListener('changeOccur', handleMemoryChange)\n//         return window.removeEventListener('changeOccur', handleMemoryChange)\n//     }, [handleMemoryChange])\n//     console.log(newMemory, 'state', '2');\n//     return { ...newMemory[newPath] };\n// }\n// UseHeaderchange.propTypes = {\n//     newPath: PropTypes.string,\n//     headerType: PropTypes.string\n// }\n// export default UseHeaderchange;\n// import React, { useState, useEffect, useCallback } from 'react';\n// import PropTypes from 'prop-types';\n// function UseHeaderchange(newPath, newHeaderType, ...rest) {\n//     if (!window['newMemory']) {\n//         window['newMemory'] = {};\n//         console.log('new memory', window['newMemory']);\n//     }\n//     const { newMemory } = window;\n//     const initialState = {\n//         path: '',\n//         headerType: 'home',\n//         ...rest\n//     };\n//     if (!newMemory[newPath]) newMemory[newPath] = { path: newPath, headerType: newHeaderType || 'home', ...rest };\n//     // console.log(newMemory, initialState, 'state');\n//     // const [filters, setFilters] = useState({ ...initialState });\n//     // let handleMemoryChange = useCallback(() => {\n//     //     const { path, headerType } = filters;\n//     //     if (!newMemory[newPath]) {\n//     //         setFilters({\n//     //             ...filters,\n//     //             path: newPath,\n//     //             headerType: newHeaderType || 'home'\n//     //         })\n//     //         console.log('Hey hi');\n//     //     } else {\n//     //         console.log(newMemory, filters, 'state', '1');\n//     //         return newMemory[newPath];\n//     //     }\n//     // }, [filters])\n//     // useEffect(() => {\n//     //     window.addEventListener('memoryChange', handleMemoryChange)\n//     //     window.removeEventListener('memoryChange', handleMemoryChange)\n//     // }, [filters])\n//     console.log(newMemory, 'state', '2');\n//     return newMemory[newPath];\n// }\n// UseHeaderchange.propTypes = {\n//     newPath: PropTypes.string,\n//     headerType: PropTypes.string\n// }\n// export default UseHeaderchange;\n\nvar _c;\n\n$RefreshReg$(_c, \"UseHeaderchange\");","map":{"version":3,"sources":["/home/hestabit/Music/moonick/src/utils/global-functions/use-Header-change.js"],"names":["React","useState","useEffect","useCallback","PropTypes","isNotEmptyObject","UseHeaderchange","newPath","newHeaderType","rest","window","console","log","newMemory","filters","setFilters","initialState","path","headerType","handleMemoryChange","addEventListener","removeEventListener","propTypes","string"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,WAArC,QAAwD,OAAxD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,gBAAT,QAAiC,SAAjC;;AAEA,SAASC,eAAT,CAAyBC,OAAzB,EAAkCC,aAAlC,EAAiD,GAAGC,IAApD,EAA0D;AAAA;;AACtD,MAAI,CAACC,MAAM,CAAC,WAAD,CAAX,EAA0B;AACtBA,IAAAA,MAAM,CAAC,WAAD,CAAN,GAAsB,EAAtB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BF,MAAM,CAAC,WAAD,CAAhC;AACH;;AAED,QAAM;AAAEG,IAAAA;AAAF,MAAgBH,MAAtB;AAEA,QAAM,CAACI,OAAD,EAAUC,UAAV,IAAwBd,QAAQ,CAAC,EAAD,CAAtC;AAEA,QAAMe,YAAY,GAAG;AACjBC,IAAAA,IAAI,EAAEV,OADW;AAEjBW,IAAAA,UAAU,EAAEV,aAAa,IAAI,MAFZ;AAGjB,OAAGC;AAHc,GAArB;;AAMA,MAAG,CAACJ,gBAAgB,CAACS,OAAD,CAApB,EAA+B;AAC3BC,IAAAA,UAAU,CAAC,EAAE,GAAGC;AAAL,KAAD,CAAV;AACH;;AAED,MAAI,CAACH,SAAS,CAACN,OAAD,CAAd,EAAyBM,SAAS,CAACN,OAAD,CAAT,GAAqB,EAAE,GAAGS;AAAL,GAArB;AAEzB,MAAIG,kBAAkB,GAAGhB,WAAW,CAAC,MAAM;AACvC,UAAM;AAAEc,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAuBJ,OAA7B;;AACA,QAAI,CAACD,SAAS,CAACN,OAAD,CAAd,EAAyB;AACrBM,MAAAA,SAAS,CAACN,OAAD,CAAT,GAAqB,EAAE,GAAGS;AAAL,OAArB,CADqB,CAErB;AACA;AACA;AACA;AACA;AACA;;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ,EAAuBG,YAAvB,EAAqC,OAArC;AACH,KATD,MASO;AACHL,MAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ,EAAuB,OAAvB,EAAgC,GAAhC;AACA,aAAO,EAAE,GAAGA,SAAS,CAACN,OAAD;AAAd,OAAP;AACH;AACJ,GAfmC,EAejC,EAfiC,CAApC;AAiBAL,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,MAAM,CAACU,gBAAP,CAAwB,cAAxB,EAAwCD,kBAAxC;AACA,WAAOT,MAAM,CAACW,mBAAP,CAA2B,cAA3B,EAA2CF,kBAA3C,CAAP;AACH,GAHQ,EAGN,CAACA,kBAAD,CAHM,CAAT;AAIAR,EAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ,EAAuB,OAAvB,EAAgC,GAAhC;AACA,SAAO,EAAE,GAAGA,SAAS,CAACN,OAAD;AAAd,GAAP;AACH;;GA7CQD,e;;KAAAA,e;AA+CTA,eAAe,CAACgB,SAAhB,GAA4B;AACxBf,EAAAA,OAAO,EAAEH,SAAS,CAACmB,MADK;AAExBL,EAAAA,UAAU,EAAEd,SAAS,CAACmB;AAFE,CAA5B;AAKA,eAAejB,eAAf,C,CAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACI;AACJ;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { isNotEmptyObject } from './index';\n\nfunction UseHeaderchange(newPath, newHeaderType, ...rest) {\n    if (!window['newMemory']) {\n        window['newMemory'] = {};\n        console.log('new memory', window['newMemory']);\n    }\n\n    const { newMemory } = window;\n\n    const [filters, setFilters] = useState({});\n\n    const initialState = {\n        path: newPath,\n        headerType: newHeaderType || 'home',\n        ...rest\n    };\n\n    if(!isNotEmptyObject(filters)) {\n        setFilters({ ...initialState });\n    }    \n\n    if (!newMemory[newPath]) newMemory[newPath] = { ...initialState };\n\n    let handleMemoryChange = useCallback(() => {\n        const { path, headerType } = filters;\n        if (!newMemory[newPath]) {\n            newMemory[newPath] = { ...initialState };\n            // setFilters({\n            //     ...filters,\n            //     path: newPath,\n            //     headerType: newHeaderType || 'home'\n            // })\n            // setFilters({ ...initialState });\n            console.log(newMemory, initialState, 'state');\n        } else {\n            console.log(newMemory, 'state', '1');\n            return { ...newMemory[newPath] };\n        }\n    }, [])\n\n    useEffect(() => {\n        window.addEventListener('memoryChange', handleMemoryChange)\n        return window.removeEventListener('memoryChange', handleMemoryChange)\n    }, [handleMemoryChange])\n    console.log(newMemory, 'state', '2');\n    return { ...newMemory[newPath] };\n}\n\nUseHeaderchange.propTypes = {\n    newPath: PropTypes.string,\n    headerType: PropTypes.string\n}\n\nexport default UseHeaderchange;\n\n\n// function UseHeaderchange(newPath, headerData) {\n//     if (!window['newMemory']) {\n//         window['newMemory'] = {};\n//         const event =  new Event('changeOccur');\n//         console.log('new memory', window['newMemory']);\n//     }\n\n//     const { newMemory } = window;\n\n//     const [filters, setFilters] = useState({});\n\n//     const { newHeaderType,headerValue } = headerData; \n\n//     if(!isNotEmptyObject(newMemory)) {\n// const initialState = {\n//     path: newPath,\n//     headerData\n    // };\n//         setFilters({ ...initialState });\n//     }    \n\n//     if (!newMemory[newPath]) newMemory[newPath] = { ...initialState };\n\n//     let handleMemoryChange = useCallback(() => {\n//         const { path, headerData } = filters;\n//         if (!newMemory[newPath]) {\n//             newMemory[newPath] = { ...initialState };\n//             setFilters({\n//                 ...filters,\n//                 path: newPath,\n//                 headerType: newHeaderType || 'home'\n//             })\n//             setFilters({ ...initialState });\n//             console.log(newMemory, initialState, 'state');\n//         } else {\n//             console.log(newMemory, 'state', '1');\n//             return { ...newMemory[newPath] };\n//         }\n//     }, [])\n\n//     useEffect(() => {\n//         window.addEventListener('changeOccur', handleMemoryChange)\n//         return window.removeEventListener('changeOccur', handleMemoryChange)\n//     }, [handleMemoryChange])\n//     console.log(newMemory, 'state', '2');\n//     return { ...newMemory[newPath] };\n// }\n\n// UseHeaderchange.propTypes = {\n//     newPath: PropTypes.string,\n//     headerType: PropTypes.string\n// }\n\n// export default UseHeaderchange;\n\n\n// import React, { useState, useEffect, useCallback } from 'react';\n// import PropTypes from 'prop-types';\n\n// function UseHeaderchange(newPath, newHeaderType, ...rest) {\n//     if (!window['newMemory']) {\n//         window['newMemory'] = {};\n//         console.log('new memory', window['newMemory']);\n//     }\n//     const { newMemory } = window;\n\n//     const initialState = {\n//         path: '',\n//         headerType: 'home',\n//         ...rest\n//     };\n//     if (!newMemory[newPath]) newMemory[newPath] = { path: newPath, headerType: newHeaderType || 'home', ...rest };\n//     // console.log(newMemory, initialState, 'state');\n//     // const [filters, setFilters] = useState({ ...initialState });\n\n//     // let handleMemoryChange = useCallback(() => {\n//     //     const { path, headerType } = filters;\n//     //     if (!newMemory[newPath]) {\n//     //         setFilters({\n//     //             ...filters,\n//     //             path: newPath,\n//     //             headerType: newHeaderType || 'home'\n//     //         })\n//     //         console.log('Hey hi');\n//     //     } else {\n//     //         console.log(newMemory, filters, 'state', '1');\n//     //         return newMemory[newPath];\n//     //     }\n//     // }, [filters])\n\n//     // useEffect(() => {\n//     //     window.addEventListener('memoryChange', handleMemoryChange)\n//     //     window.removeEventListener('memoryChange', handleMemoryChange)\n//     // }, [filters])\n//     console.log(newMemory, 'state', '2');\n//     return newMemory[newPath];\n// }\n\n// UseHeaderchange.propTypes = {\n//     newPath: PropTypes.string,\n//     headerType: PropTypes.string\n// }\n\n// export default UseHeaderchange;"]},"metadata":{},"sourceType":"module"}